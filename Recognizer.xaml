<UserControl
    x:Class="Music.Recognizer"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Music"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="80"
    d:DesignWidth="300"
    mc:Ignorable="d">
    <Border
        x:Name="Background"
        Background="{x:Null}"
        ClipToBounds="True"
        CornerRadius="5"
        SizeChanged="Canvas_SizeChanged">
        <Grid>
            <Image
                x:Name="MusicImgBackground"
                RenderOptions.BitmapScalingMode="LowQuality"
                Stretch="UniformToFill"
                Visibility="Visible">
                <Image.Effect>
                    <BlurEffect Radius="20" />
                </Image.Effect>
                <Image.Triggers>
                    <EventTrigger RoutedEvent="Image.Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                    <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0" />
                                    <LinearDoubleKeyFrame KeyTime="0:0:5" Value="1" />
                                    <DiscreteDoubleKeyFrame KeyTime="0:0:15" Value="1" />
                                    <LinearDoubleKeyFrame KeyTime="0:0:20" Value="0" />
                                    <DiscreteDoubleKeyFrame KeyTime="0:0:30" Value="0" />
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Image.Triggers>
            </Image>

            <Border Background="#7F000000" CornerRadius="5" />

            <local:Visualizer x:Name="Visualizer" Margin="55,-5,0,-5" />

            <Grid HorizontalAlignment="Stretch" IsHitTestVisible="False">
                <Grid
                    Width="30"
                    Margin="10,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center">
                    <Border
                        x:Name="MusicImageGlow"
                        Margin="-5"
                        CornerRadius="10"
                        Visibility="Collapsed">
                        <Border.Background>
                            <ImageBrush />
                        </Border.Background>
                        <Border.Effect>
                            <BlurEffect Radius="2" />
                        </Border.Effect>
                    </Border>

                    <Image x:Name="MusicImg" RenderOptions.BitmapScalingMode="HighQuality">
                        <Image.Clip>
                            <RectangleGeometry
                                RadiusX="10"
                                RadiusY="10"
                                Rect="0,0,30,30" />
                        </Image.Clip>
                    </Image>
                </Grid>

                <Grid>
                    <Grid.Triggers>
                        <EventTrigger RoutedEvent="Grid.Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="1" />
                                        <LinearDoubleKeyFrame KeyTime="0:0:5" Value="0" />
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:15" Value="0" />
                                        <LinearDoubleKeyFrame KeyTime="0:0:20" Value="1" />
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:30" Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Grid.Triggers>

                    <Border Background="#7F000000" CornerRadius="5" />

                    <StackPanel
                        x:Name="stackpa"
                        Margin="55,0,0,0"
                        VerticalAlignment="Center">


                        <Canvas Height="24" ClipToBounds="True">
                            <TextBlock
                                x:Name="Name"
                                VerticalAlignment="Center"
                                FontFamily="Segoe UI Semibold"
                                FontSize="18"
                                Foreground="WhiteSmoke"
                                Text="Music Recognizer">
                                <TextBlock.RenderTransform>
                                    <TranslateTransform x:Name="NameTransform" />
                                </TextBlock.RenderTransform>
                            </TextBlock>
                        </Canvas>

                        <Canvas
                            Height="18"
                            Margin="0,-3,0,0"
                            ClipToBounds="True">
                            <TextBlock
                                x:Name="Artist"
                                VerticalAlignment="Center"
                                FontSize="12"
                                Foreground="#FFC8C8C8"
                                Text="By M4A1 :)">
                                <TextBlock.RenderTransform>
                                    <TranslateTransform x:Name="ArtistTransform" />
                                </TextBlock.RenderTransform>
                            </TextBlock>
                        </Canvas>

                        <Canvas
                            Height="18"
                            ClipToBounds="True"
                            Visibility="Collapsed">
                            <TextBlock
                                x:Name="Genre"
                                VerticalAlignment="Center"
                                FontFamily="/VornexUI;component/Graphics/Fonts/#Inter 24pt 24pt Medium"
                                FontSize="12"
                                Foreground="#FF969696"
                                Text="Very cool c# programmer">
                                <TextBlock.RenderTransform>
                                    <TranslateTransform x:Name="GenreTransform" />
                                </TextBlock.RenderTransform>
                            </TextBlock>
                        </Canvas>
                    </StackPanel>
                </Grid>

            </Grid>
        </Grid>
    </Border>
</UserControl>
